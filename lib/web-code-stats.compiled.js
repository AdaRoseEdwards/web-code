'use strict';


	/* eslint-disable */
	

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var path = require('path');
var mime = _interopDefault(require('mime'));

/* global Map, Set, Promise, fs */
/* eslint no-var: 0, no-console: 0 */
/* eslint-env es6 */

// Map to prevent duplicate data objects for each file
var pathToDataMap = new Map();

var fsFromFn = ['isFile', 'isDirectory', 'isBlockDevice', 'isCharacterDevice', 'isSymbolicLink', 'isFIFO', 'isSocket'];
var fsStatic = [
	'dev',
	'mode',
	'nlink',
	'uid',
	'gid',
	'rdev',
	'blksize',
	'ino',
	'size',
	'blocks',
	'atime',
	'mtime',
	'ctime',
	'birthtime',
	'path'
];
var keys = fsStatic.concat(fsFromFn);


/**
 * Special type of singleton which returns the same object for each path.
 */
function Stats (data) {
	if (pathToDataMap.has(data.path)) {
		var existing = pathToDataMap.get(data.path);
		existing.update(data);
		return existing;
	}
	this.fileLists = new Set();
	this.data = {};
	this.update(data);
	pathToDataMap.set(data.path, this);
}

Stats.prototype.update = function update(data) {

    // Rerender file lists
	if (this.fileLists.size) {
		console.log('STUB: UPDATE FILELISTS',this.data.path,Array.from(this.fileLists));
	}

	this.data.name = path.basename(data.path);
	this.data.dirName = path.dirname(data.path);
	this.data.extension = path.extname(data.path).toLowerCase();
	this.data.mime = data.isFile ? mime.lookup(data.path) : 'directory';

	keys.forEach(function (key) {
		this.data[key] = data[key];
	}.bind(this));

	if (this.isDirectory() && !this.children) {
		this.children = [];
		this.childrenPopulated = false;
	}
};

Stats.prototype.toDoc = function toDoc() {
	var out = {
		__webStatDoc: true
	};
	keys.forEach(function (key) {
		out[key] = this.data[key];
	}.bind(this));
	return out;
};

Stats.prototype.updateChildren = function () {
	if(!this.isDirectory()) throw Error('Not a directory');

	var self = this;
	return fs.readdir(self.data.path)
	.then(function (arr) {
		return Promise.all(arr.map(function (child) {
			return Stats.fromPath(path.join(self.data.path, child));
		}));
	})
	.then(function (statsArray) {
		self.children.splice(0);
		self.children.push.apply(self.children, statsArray);
		return self;  
	});
};

Stats.prototype.destroyFileList = function (el) {
	el.stats = undefined;
	this.fileLists.delete(el);
	el.innerHTML = '';
};

Stats.prototype.renderFileList = function (el, options) {
	el.stats = this;
	this.fileLists.add(el);
	el.dataset.mime = this.data.mime;
	el.dataset.name = this.data.name;
	el.dataset.size = this.data.size;

	Stats.renderFileList(el, this.children, options);
};

// add isFile isDirectory etc
fsFromFn.forEach(function (key) {
	Stats.prototype[key] = new Function('return this.data["' + key + '"];');
});

Stats.fromPath = function (path$$1) {
	return fs.stat(path$$1);
};

Stats.fromDoc = function (data) {
	return new Stats(data);
};

Stats.fromNodeStats = function (path$$1, nodeStat) {

	var out = {};

	fsFromFn.forEach(key => out[key] = nodeStat[key]());
	keys.forEach(key => {
		if (typeof nodeStat[key] !== 'function' && typeof nodeStat[key] !== 'object') {
			out[key] = nodeStat[key];
		}
	});

	out.path = path.resolve(path$$1);

	return new Stats(out);
};

Stats.renderFileList = function renderFileList(el, array, options) {

	options = options || {};
	var useOptions = {
		hideDotFiles: (options.hideDotFiles !== undefined ? options.hideDotFiles : true),
		nested: (options.nested !== undefined ? options.nested : true),
		nestingLimit: (options.nestingLimit || 5) - 1
	};
	if (options.nestingLimit === 0) return;

	var sortedData = Array.from(array)
		.filter(function (stats) {

			// Whether to hide dotfiles
			if (stats.data.name !== '..' && useOptions.hideDotFiles !== false) {
				return stats.data.name[0] !== '.';
			}
			return true;
		})
		.sort(function (a, b) {
			if (a.name === '..') {
				return -1;
			}
			if (b.name === '..') {
				return 1;
			}
			if (
				(a.isDirectory() === b.isDirectory()) &&
				(a.isFile() === b.isFile())
			) {
				return ([a.data.name, b.data.name].sort(function (a, b) {
					return a.toLowerCase().localeCompare(b.toLowerCase());
				})[0] === a.data.name ? -1 : 1);
			} else {
				if (a.isDirectory()) return -1;
				return 1;
			}
		});

	sortedData.map(function (stats) {
		var li = document.createElement('li');
		li.classList.add('has-icon');
		li.dataset.mime = stats.data.mime;
		li.dataset.name = stats.data.name;
		li.dataset.size = stats.data.size;
		li.textContent = stats.data.name;
		li.tabIndex = 0;
		li.stats = stats;
		el.appendChild(li);

		if (stats.isDirectory() && useOptions.nested !== false) {
			var newFileList = document.createElement('ul');
			newFileList.classList.add('filelist');
			li.appendChild(newFileList);
			if (stats.children) {
				stats.renderFileList(newFileList, useOptions);
			}
		}
	});
};

module.exports = Stats;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViLWNvZGUtc3RhdHMuY29tcGlsZWQuanMiLCJzb3VyY2VzIjpbIi4uL3N0YXRpYy9zY3JpcHRzL2xpYi93ZWItY29kZS1zdGF0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgTWFwLCBTZXQsIFByb21pc2UsIGZzICovXG4vKiBlc2xpbnQgbm8tdmFyOiAwLCBuby1jb25zb2xlOiAwICovXG4vKiBlc2xpbnQtZW52IGVzNiAqL1xuXG5pbXBvcnQgeyByZXNvbHZlIGFzIHBhdGhSZXNvbHZlLCBiYXNlbmFtZSwgZGlybmFtZSwgZXh0bmFtZSwgam9pbiB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IG1pbWUgZnJvbSAnbWltZSc7XG5cbi8vIE1hcCB0byBwcmV2ZW50IGR1cGxpY2F0ZSBkYXRhIG9iamVjdHMgZm9yIGVhY2ggZmlsZVxudmFyIHBhdGhUb0RhdGFNYXAgPSBuZXcgTWFwKCk7XG5cbnZhciBmc0Zyb21GbiA9IFsnaXNGaWxlJywgJ2lzRGlyZWN0b3J5JywgJ2lzQmxvY2tEZXZpY2UnLCAnaXNDaGFyYWN0ZXJEZXZpY2UnLCAnaXNTeW1ib2xpY0xpbmsnLCAnaXNGSUZPJywgJ2lzU29ja2V0J107XG52YXIgZnNTdGF0aWMgPSBbXG5cdCdkZXYnLFxuXHQnbW9kZScsXG5cdCdubGluaycsXG5cdCd1aWQnLFxuXHQnZ2lkJyxcblx0J3JkZXYnLFxuXHQnYmxrc2l6ZScsXG5cdCdpbm8nLFxuXHQnc2l6ZScsXG5cdCdibG9ja3MnLFxuXHQnYXRpbWUnLFxuXHQnbXRpbWUnLFxuXHQnY3RpbWUnLFxuXHQnYmlydGh0aW1lJyxcblx0J3BhdGgnXG5dO1xudmFyIGtleXMgPSBmc1N0YXRpYy5jb25jYXQoZnNGcm9tRm4pO1xuXG5cbi8qKlxuICogU3BlY2lhbCB0eXBlIG9mIHNpbmdsZXRvbiB3aGljaCByZXR1cm5zIHRoZSBzYW1lIG9iamVjdCBmb3IgZWFjaCBwYXRoLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdGF0cyAoZGF0YSkge1xuXHRpZiAocGF0aFRvRGF0YU1hcC5oYXMoZGF0YS5wYXRoKSkge1xuXHRcdHZhciBleGlzdGluZyA9IHBhdGhUb0RhdGFNYXAuZ2V0KGRhdGEucGF0aCk7XG5cdFx0ZXhpc3RpbmcudXBkYXRlKGRhdGEpO1xuXHRcdHJldHVybiBleGlzdGluZztcblx0fVxuXHR0aGlzLmZpbGVMaXN0cyA9IG5ldyBTZXQoKTtcblx0dGhpcy5kYXRhID0ge307XG5cdHRoaXMudXBkYXRlKGRhdGEpO1xuXHRwYXRoVG9EYXRhTWFwLnNldChkYXRhLnBhdGgsIHRoaXMpO1xufVxuXG5TdGF0cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGRhdGEpIHtcblxuICAgIC8vIFJlcmVuZGVyIGZpbGUgbGlzdHNcblx0aWYgKHRoaXMuZmlsZUxpc3RzLnNpemUpIHtcblx0XHRjb25zb2xlLmxvZygnU1RVQjogVVBEQVRFIEZJTEVMSVNUUycsdGhpcy5kYXRhLnBhdGgsQXJyYXkuZnJvbSh0aGlzLmZpbGVMaXN0cykpO1xuXHR9XG5cblx0dGhpcy5kYXRhLm5hbWUgPSBiYXNlbmFtZShkYXRhLnBhdGgpO1xuXHR0aGlzLmRhdGEuZGlyTmFtZSA9IGRpcm5hbWUoZGF0YS5wYXRoKTtcblx0dGhpcy5kYXRhLmV4dGVuc2lvbiA9IGV4dG5hbWUoZGF0YS5wYXRoKS50b0xvd2VyQ2FzZSgpO1xuXHR0aGlzLmRhdGEubWltZSA9IGRhdGEuaXNGaWxlID8gbWltZS5sb29rdXAoZGF0YS5wYXRoKSA6ICdkaXJlY3RvcnknO1xuXG5cdGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0dGhpcy5kYXRhW2tleV0gPSBkYXRhW2tleV07XG5cdH0uYmluZCh0aGlzKSk7XG5cblx0aWYgKHRoaXMuaXNEaXJlY3RvcnkoKSAmJiAhdGhpcy5jaGlsZHJlbikge1xuXHRcdHRoaXMuY2hpbGRyZW4gPSBbXTtcblx0XHR0aGlzLmNoaWxkcmVuUG9wdWxhdGVkID0gZmFsc2U7XG5cdH1cbn1cblxuU3RhdHMucHJvdG90eXBlLnRvRG9jID0gZnVuY3Rpb24gdG9Eb2MoKSB7XG5cdHZhciBvdXQgPSB7XG5cdFx0X193ZWJTdGF0RG9jOiB0cnVlXG5cdH07XG5cdGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0b3V0W2tleV0gPSB0aGlzLmRhdGFba2V5XTtcblx0fS5iaW5kKHRoaXMpKTtcblx0cmV0dXJuIG91dDtcbn1cblxuU3RhdHMucHJvdG90eXBlLnVwZGF0ZUNoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuXHRpZighdGhpcy5pc0RpcmVjdG9yeSgpKSB0aHJvdyBFcnJvcignTm90IGEgZGlyZWN0b3J5Jyk7XG5cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRyZXR1cm4gZnMucmVhZGRpcihzZWxmLmRhdGEucGF0aClcblx0LnRoZW4oZnVuY3Rpb24gKGFycikge1xuXHRcdHJldHVybiBQcm9taXNlLmFsbChhcnIubWFwKGZ1bmN0aW9uIChjaGlsZCkge1xuXHRcdFx0cmV0dXJuIFN0YXRzLmZyb21QYXRoKGpvaW4oc2VsZi5kYXRhLnBhdGgsIGNoaWxkKSk7XG5cdFx0fSkpO1xuXHR9KVxuXHQudGhlbihmdW5jdGlvbiAoc3RhdHNBcnJheSkge1xuXHRcdHNlbGYuY2hpbGRyZW4uc3BsaWNlKDApO1xuXHRcdHNlbGYuY2hpbGRyZW4ucHVzaC5hcHBseShzZWxmLmNoaWxkcmVuLCBzdGF0c0FycmF5KTtcblx0XHRyZXR1cm4gc2VsZjsgIFxuXHR9KTtcbn1cblxuU3RhdHMucHJvdG90eXBlLmRlc3Ryb3lGaWxlTGlzdCA9IGZ1bmN0aW9uIChlbCkge1xuXHRlbC5zdGF0cyA9IHVuZGVmaW5lZDtcblx0dGhpcy5maWxlTGlzdHMuZGVsZXRlKGVsKTtcblx0ZWwuaW5uZXJIVE1MID0gJyc7XG59XG5cblN0YXRzLnByb3RvdHlwZS5yZW5kZXJGaWxlTGlzdCA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xuXHRlbC5zdGF0cyA9IHRoaXM7XG5cdHRoaXMuZmlsZUxpc3RzLmFkZChlbCk7XG5cdGVsLmRhdGFzZXQubWltZSA9IHRoaXMuZGF0YS5taW1lO1xuXHRlbC5kYXRhc2V0Lm5hbWUgPSB0aGlzLmRhdGEubmFtZTtcblx0ZWwuZGF0YXNldC5zaXplID0gdGhpcy5kYXRhLnNpemU7XG5cblx0U3RhdHMucmVuZGVyRmlsZUxpc3QoZWwsIHRoaXMuY2hpbGRyZW4sIG9wdGlvbnMpO1xufVxuXG4vLyBhZGQgaXNGaWxlIGlzRGlyZWN0b3J5IGV0Y1xuZnNGcm9tRm4uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFN0YXRzLnByb3RvdHlwZVtrZXldID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcy5kYXRhW1wiJyArIGtleSArICdcIl07Jyk7XG59KTtcblxuU3RhdHMuZnJvbVBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xuXHRyZXR1cm4gZnMuc3RhdChwYXRoKTtcbn1cblxuU3RhdHMuZnJvbURvYyA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cdHJldHVybiBuZXcgU3RhdHMoZGF0YSk7XG59XG5cblN0YXRzLmZyb21Ob2RlU3RhdHMgPSBmdW5jdGlvbiAocGF0aCwgbm9kZVN0YXQpIHtcblxuXHR2YXIgb3V0ID0ge307XG5cblx0ZnNGcm9tRm4uZm9yRWFjaChrZXkgPT4gb3V0W2tleV0gPSBub2RlU3RhdFtrZXldKCkpO1xuXHRrZXlzLmZvckVhY2goa2V5ID0+IHtcblx0XHRpZiAodHlwZW9mIG5vZGVTdGF0W2tleV0gIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG5vZGVTdGF0W2tleV0gIT09ICdvYmplY3QnKSB7XG5cdFx0XHRvdXRba2V5XSA9IG5vZGVTdGF0W2tleV07XG5cdFx0fVxuXHR9KTtcblxuXHRvdXQucGF0aCA9IHBhdGhSZXNvbHZlKHBhdGgpO1xuXG5cdHJldHVybiBuZXcgU3RhdHMob3V0KTtcbn1cblxuU3RhdHMucmVuZGVyRmlsZUxpc3QgPSBmdW5jdGlvbiByZW5kZXJGaWxlTGlzdChlbCwgYXJyYXksIG9wdGlvbnMpIHtcblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0dmFyIHVzZU9wdGlvbnMgPSB7XG5cdFx0aGlkZURvdEZpbGVzOiAob3B0aW9ucy5oaWRlRG90RmlsZXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaGlkZURvdEZpbGVzIDogdHJ1ZSksXG5cdFx0bmVzdGVkOiAob3B0aW9ucy5uZXN0ZWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubmVzdGVkIDogdHJ1ZSksXG5cdFx0bmVzdGluZ0xpbWl0OiAob3B0aW9ucy5uZXN0aW5nTGltaXQgfHwgNSkgLSAxXG5cdH1cblx0aWYgKG9wdGlvbnMubmVzdGluZ0xpbWl0ID09PSAwKSByZXR1cm47XG5cblx0dmFyIHNvcnRlZERhdGEgPSBBcnJheS5mcm9tKGFycmF5KVxuXHRcdC5maWx0ZXIoZnVuY3Rpb24gKHN0YXRzKSB7XG5cblx0XHRcdC8vIFdoZXRoZXIgdG8gaGlkZSBkb3RmaWxlc1xuXHRcdFx0aWYgKHN0YXRzLmRhdGEubmFtZSAhPT0gJy4uJyAmJiB1c2VPcHRpb25zLmhpZGVEb3RGaWxlcyAhPT0gZmFsc2UpIHtcblx0XHRcdFx0cmV0dXJuIHN0YXRzLmRhdGEubmFtZVswXSAhPT0gJy4nO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSlcblx0XHQuc29ydChmdW5jdGlvbiAoYSwgYikge1xuXHRcdFx0aWYgKGEubmFtZSA9PT0gJy4uJykge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYi5uYW1lID09PSAnLi4nKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXHRcdFx0aWYgKFxuXHRcdFx0XHQoYS5pc0RpcmVjdG9yeSgpID09PSBiLmlzRGlyZWN0b3J5KCkpICYmXG5cdFx0XHRcdChhLmlzRmlsZSgpID09PSBiLmlzRmlsZSgpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiAoW2EuZGF0YS5uYW1lLCBiLmRhdGEubmFtZV0uc29ydChmdW5jdGlvbiAoYSwgYikge1xuXHRcdFx0XHRcdHJldHVybiBhLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShiLnRvTG93ZXJDYXNlKCkpO1xuXHRcdFx0XHR9KVswXSA9PT0gYS5kYXRhLm5hbWUgPyAtMSA6IDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKGEuaXNEaXJlY3RvcnkoKSkgcmV0dXJuIC0xO1xuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRzb3J0ZWREYXRhLm1hcChmdW5jdGlvbiAoc3RhdHMpIHtcblx0XHR2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuXHRcdGxpLmNsYXNzTGlzdC5hZGQoJ2hhcy1pY29uJyk7XG5cdFx0bGkuZGF0YXNldC5taW1lID0gc3RhdHMuZGF0YS5taW1lO1xuXHRcdGxpLmRhdGFzZXQubmFtZSA9IHN0YXRzLmRhdGEubmFtZTtcblx0XHRsaS5kYXRhc2V0LnNpemUgPSBzdGF0cy5kYXRhLnNpemU7XG5cdFx0bGkudGV4dENvbnRlbnQgPSBzdGF0cy5kYXRhLm5hbWU7XG5cdFx0bGkudGFiSW5kZXggPSAwO1xuXHRcdGxpLnN0YXRzID0gc3RhdHM7XG5cdFx0ZWwuYXBwZW5kQ2hpbGQobGkpO1xuXG5cdFx0aWYgKHN0YXRzLmlzRGlyZWN0b3J5KCkgJiYgdXNlT3B0aW9ucy5uZXN0ZWQgIT09IGZhbHNlKSB7XG5cdFx0XHR2YXIgbmV3RmlsZUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuXHRcdFx0bmV3RmlsZUxpc3QuY2xhc3NMaXN0LmFkZCgnZmlsZWxpc3QnKTtcblx0XHRcdGxpLmFwcGVuZENoaWxkKG5ld0ZpbGVMaXN0KTtcblx0XHRcdGlmIChzdGF0cy5jaGlsZHJlbikge1xuXHRcdFx0XHRzdGF0cy5yZW5kZXJGaWxlTGlzdChuZXdGaWxlTGlzdCwgdXNlT3B0aW9ucyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cbiJdLCJuYW1lcyI6WyJiYXNlbmFtZSIsImRpcm5hbWUiLCJleHRuYW1lIiwiam9pbiIsInBhdGgiLCJwYXRoUmVzb2x2ZSJd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
